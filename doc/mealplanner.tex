\documentclass[a4paper]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsthm}
\usepackage{textcomp}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=2cm,right=2cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{indentfirst}

% set up BNF generator
\usepackage{syntax}
\setlength{\grammarparsep}{10pt plus 1pt minus 1pt}
\setlength{\grammarindent}{10em}

\title{Meal Planning}
\author{Rob Moore - started 2017.01.26}

\begin{document}
\maketitle

\section{Solution-independent Specification}

\subsection{Daily specification}

\begin{itemize}
  \item 3 meals
  \item 3000 calories
  \item 360g carbohydrate
  \item 100g protein
  \item 130g fat
  \item 600g food total
  \item Eat less than £10 worth of food NB. This will change once I find what a reasonable value for it is.
\end{itemize}

\subsection{Meal specification}

Breakfast must be made from at least 2 ingredients and must have at least (dummy values for now):
\begin{itemize}
  \item 140g carbohydrate
  \item 10g protein
  \item 20g fat
\end{itemize}

Lunch must be made from at least 3 ingredients and must have at least:
\begin{itemize}
  \item 150g carbohydrate
  \item 40g protein
  \item 50g fat
\end{itemize}

Dinner must be made from at least 3 ingredients and must have at least:
\begin{itemize}
  \item 70g carbohydrate
  \item 50g protein
  \item 60g fat
\end{itemize}

\section{Required Function of the Program}

\subsection{Meal}

A user of the program must be able to request suggestions for a meal by giving it's name 
to the program on the command line, such as:

\begin{verbatim}
  ./mealplanner breakfast
\end{verbatim}

When a meal is specified, the following things should be shown:

\begin{itemize}
  \item List of foods for the meal
  \item Number of calories(N/A) in the meal
  \item Macronutrient(g) breakdown of the given meal
  \item Number of grams of food in the meal in total
  \item Cost(£) of buying each item in the meal from the shop
\end{itemize}

The foods returned must conform to all of the specification 
requirements. Furthermore, it must check the appropriateness of each 
food ie. Milk, cornflakes and toast for dinner is not a good suggestion.

\subsection{Day}

Furthermore, if the program is called without arguments, it should 
behave as though breakfast, lunch and dinner were all requested, giving 
meals for the whole day.

When giving results in this form, the meal plan must also be checked for 
conformity to daily requirements for total(g), macronutrient(g) and 
calorie(N/A) consumption.

\section{Algorithm}

The program will attempt to find solutions with the fewest number of 
ingredients first.

Given a dataset A, for a 2 ingredient problem (breakfast), we can use 
the following algorithm to find ingredients X and Y, given carbohydrate, 
protein and fat threshholds of Tc, Tp and Tf respectively.

\subsection{Two Ingredient Solution}

\begin{enumerate}
  \item Filter A to show only foods appropriate for breakfast

  \item Choose arbitrary X from A

  \item Let D = T - X. That is, Dc = Tc - Xc, Dp = Tp - Xp, Df - Tf - Xf.

  \item New filtering function is therefore \begin{verbatim} {all[x >= D]} \end{verbatim}

  \item Apply the filter to A, and let the result by Ad

  \item Add to the solution set the 2 ingredient solutions, found by \begin{verbatim} X cross Ad \end{verbatim}

  \item Recurse, removing X from A, until A has only one element left.

  \item Return the solution set
\end{enumerate}

\subsection{Three Ingredient Solution}

\begin{enumerate}
  \item For every element in A, go to every other point. Do this one more time.
  \item Boom. O($n^{3}$) algorithm.
\end{enumerate}

I consider this to be okay because a local shop inventory database is 
never going to be large enough that this gets out of hand.

\section{Table}

\subsection{Spending}

Information about things I buy at the shops, rather than what I cook in the 
kitchen.

\begin{itemize}
  \item name (symbol)
  \item boughtfrom (symbol)
  \item price(£) (float)
  \item nServings (int)
  \item servingDescription (string)
  \item inmeals (bool list)
\end{itemize}

\subsection{GivenStats}

Statistics about the food I can see straight from the packet of food.

\begin{itemize}
  \item name (symbol)
  \item nGrams (int)
  \item calsP100g (int)
  \item gcarbsP100g (int)
  \item gproteinP100g (int)
  \item gfatP100g (int)
\end{itemize} 
  
\subsection{Nutrition}

Information to do with a food's nutritional value at serving time.

\begin{itemize}
  \item name (symbol)
  \item gtotalPserving (float)
  \item calsPserving (float)
  \item gcarbsPserving (float)
  \item gproteinPserving (float)
  \item gfatPserving (float)
\end{itemize}

\end{document}
